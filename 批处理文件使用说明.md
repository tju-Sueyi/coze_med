# 批处理文件使用说明

## 📁 文件列表

### 1. start.bat - 启动服务 🚀
**功能**：一键启动医疗AI平台的前端和后端服务

**使用方法**：
- 双击运行 `start.bat`
- 或在命令行输入：`start.bat`

**执行流程**：
1. 检查端口占用情况
2. 如果端口被占用，自动清理
3. 启动后端服务（端口5000）
4. 启动前端服务（端口8000）
5. 自动打开浏览器访问网页

**特点**：
- ✅ 自动检测端口冲突
- ✅ 后台运行服务
- ✅ 自动打开浏览器
- ✅ 中文友好提示

---

### 2. stop.bat - 停止服务 🛑
**功能**：停止所有运行中的医疗AI平台服务

**使用方法**：
- 双击运行 `stop.bat`
- 或在命令行输入：`stop.bat`

**执行流程**：
1. 检查运行中的Python进程
2. 显示进程列表
3. 终止所有Python进程
4. 释放端口5000和8000

**特点**：
- ✅ 一键停止所有服务
- ✅ 显示停止的进程信息
- ✅ 安全快速

---

### 3. restart.bat - 重启服务 🔄
**功能**：重启医疗AI平台服务（先停止再启动）

**使用方法**：
- 双击运行 `restart.bat`
- 或在命令行输入：`restart.bat`

**适用场景**：
- 修改代码后需要重启
- 服务出现异常需要重启
- 配置更改后重启

**特点**：
- ✅ 自动停止旧服务
- ✅ 等待端口释放
- ✅ 启动新服务
- ✅ 自动打开浏览器

---

### 4. status.bat - 查看状态 📊
**功能**：检查医疗AI平台服务的运行状态

**使用方法**：
- 双击运行 `status.bat`
- 或在命令行输入：`status.bat`

**显示信息**：
1. 运行中的Python进程
2. 端口5000（后端）状态
3. 端口8000（前端）状态
4. 服务访问地址

**特点**：
- ✅ 快速诊断服务状态
- ✅ 清晰的状态显示
- ✅ 不影响服务运行

---

## 🔧 使用流程

### 日常使用
```
1. 双击 start.bat      → 启动服务
2. 在浏览器使用平台
3. 双击 stop.bat       → 停止服务
```

### 开发调试
```
1. 双击 start.bat      → 启动服务
2. 修改代码
3. 双击 restart.bat    → 重启服务
4. 测试新功能
5. 双击 stop.bat       → 停止服务
```

### 故障排查
```
1. 双击 status.bat     → 检查状态
2. 如果服务异常：
   - 双击 stop.bat     → 停止服务
   - 双击 start.bat    → 重新启动
3. 再次 status.bat     → 确认状态
```

---

## ⚠️ 注意事项

### 1. 关于端口占用
- 如果提示端口被占用，先运行 `stop.bat`
- 等待几秒后再运行 `start.bat`

### 2. 关于防火墙
- 首次运行可能需要允许Python访问网络
- 请在防火墙提示时选择"允许访问"

### 3. 关于窗口关闭
- 关闭批处理窗口不会停止服务
- 服务在后台运行
- 必须运行 `stop.bat` 才能停止

### 4. 关于多次启动
- 不要重复运行 `start.bat`
- 如需重启，先运行 `stop.bat`
- 或直接运行 `restart.bat`

---

## 🐛 常见问题

### Q1: 双击start.bat后浏览器没有自动打开
**A**: 手动在浏览器访问 `http://localhost:8000`

### Q2: 提示"Python不是内部或外部命令"
**A**: 需要安装Python并添加到系统PATH

### Q3: 启动后网页显示错误
**A**: 
1. 运行 `status.bat` 检查服务状态
2. 运行 `restart.bat` 重启服务
3. 查看是否有错误提示

### Q4: stop.bat无法停止服务
**A**: 
1. 打开任务管理器
2. 查找python.exe进程
3. 手动结束进程

### Q5: 端口被其他程序占用
**A**: 
```cmd
# 查看占用端口的程序
netstat -ano | findstr :8000
# 记下PID号，在任务管理器中结束该进程
```

---

## 💡 高级技巧

### 1. 创建桌面快捷方式
- 右键 `start.bat` → 发送到 → 桌面快捷方式
- 修改快捷方式图标和名称

### 2. 修改默认端口
编辑批处理文件，修改端口号：
```batch
# 后端端口：修改 backend_server.py 中的端口设置
# 前端端口：修改 python -m http.server 8000 为其他端口
```

### 3. 开机自动启动
- 按 Win+R，输入 `shell:startup`
- 将 `start.bat` 的快捷方式放入该文件夹

### 4. 静默启动（不显示窗口）
修改start.bat中的 `/MIN` 为 `/B`

---

## 📞 技术支持

如果遇到问题：
1. 查看本文档的"常见问题"部分
2. 运行 `status.bat` 检查服务状态
3. 查看命令行窗口的错误信息
4. 检查 `backend.log` 和 `frontend.log` 日志文件

---

## 📝 更新日志

### 2025-10-22
- ✅ 创建 start.bat（启动服务）
- ✅ 创建 stop.bat（停止服务）
- ✅ 创建 restart.bat（重启服务）
- ✅ 创建 status.bat（状态检查）
- ✅ 添加中文支持（UTF-8编码）
- ✅ 优化用户体验和错误提示

---

## 🎉 快速开始

**第一次使用：**
```
双击 start.bat → 等待浏览器打开 → 开始使用
```

**使用完毕后：**
```
双击 stop.bat → 确认服务已停止
```

**下次使用：**
```
双击 start.bat → 继续使用
```

就是这么简单！🎊

